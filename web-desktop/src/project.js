window.__require=function e(t,a,n){function i(h,l){if(!a[h]){if(!t[h]){var s=h.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+h+"'")}}var d=a[h]={exports:{}};t[h][0].call(d.exports,function(e){return i(t[h][1][e]||e)},d,d.exports,e,t,a,n)}return a[h].exports}for(var o="function"==typeof __require&&__require,h=0;h<n.length;h++)i(n[h]);return i}({addball:[function(e,t,a){"use strict";cc._RF.push(t,"5e1f52OyxpLPrvg1l9c9+l2","addball"),cc.Class({extends:cc.Component,properties:{prefab_ball:cc.Prefab},onLoad:function(){},onBeginContact:function(e,t,a){this.node.active=!1;var n=cc.instantiate(this.prefab_ball),i=this.node.parent.parent;i.getChildByName("ball").addChild(n);var o=this.node.parent.convertToWorldSpaceAR(cc.v2(this.node.x,this.node.y)),h=i.getChildByName("ball").convertToNodeSpaceAR(cc.v2(o.x,o.y));n.setPosition(h.x,h.y),n.getComponent(cc.RigidBody).linearVelocity=cc.v2(180,220),i.getComponent("game").ballNum++,this.node.destroy()},add:function(){this.node.active=!1;var e=cc.instantiate(this.prefab_ball),t=this.node.parent.parent;t.getChildByName("ball").addChild(e);var a=this.node.parent.convertToWorldSpaceAR(cc.v2(this.node.x,this.node.y)),n=t.getChildByName("ball").convertToNodeSpaceAR(cc.v2(a.x,a.y));e.setPosition(n.x,n.y),e.getComponent(cc.RigidBody).linearVelocity=cc.v2(180,220),t.getComponent("game").ballNum++,this.node.destroy()},start:function(){},update:function(e){}}),cc._RF.pop()},{}],ball:[function(e,t,a){"use strict";cc._RF.push(t,"e6313llyAZI4bz+v4CPKFZ1","ball"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(e,t,a){var n=this.node.parent.parent;1==a.tag&&(n.getComponent("game").mark++,n.getChildByName("data").getChildByName("score").getChildByName("mark").getComponent(cc.Label).string=n.getComponent("game").mark,1==a.node.getComponent("brick").hp?a.node.destroy():(a.node.getComponent("brick").hp--,a.node.getChildByName("num").getComponent(cc.Label).string=a.getComponent("brick").hp))},onEndContact:function(e,t,a){},onPreSolve:function(e,t,a){},onPostSolve:function(e,t,a){},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],boom:[function(e,t,a){"use strict";cc._RF.push(t,"1d8c1CHOJNN871ZJhnVcDuC","boom"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!0,e.enabledDrawBoundingBox=!1,this.derail=!1,this.addScore=0},onBeginContact:function(e,t,a){this.derail=!0},onCollisionStay:function(e,t){var a=this.node.parent.parent;1==this.derail&&(1==e.tag?(this.addScore+=e.node.getComponent("brick").hp,a.getComponent("game").mark+=this.addScore,a.getChildByName("data").getChildByName("score").getChildByName("mark").getComponent(cc.Label).string=a.getComponent("game").mark):2==e.tag&&e.node.getComponent("addball").add(),e.node.destroy(),this.node.destroy(),a.getChildByName("background").getChildByName("down").getComponent("down").boomDerail=!1)},update:function(e){}}),cc._RF.pop()},{}],brick:[function(e,t,a){"use strict";cc._RF.push(t,"c7f76h8/+9GyoU1CwUjdFva","brick"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.hp=0},start:function(){}}),cc._RF.pop()},{}],down:[function(e,t,a){"use strict";cc._RF.push(t,"b802ceYaQFA2LBp9viamEO1","down"),cc.Class({extends:cc.Component,properties:{prefab_sanjiao:cc.Prefab,prefab_sanjiaoxing:cc.Prefab,prefab_wubian:cc.Prefab,prefab_wubianxing:cc.Prefab,prefab_yuan:cc.Prefab,prefab_zhengfangxing:cc.Prefab,prefab_boom:cc.Prefab,prefab_addball:cc.Prefab},click_suspend:function(){this.derail=!0},onLoad:function(){this.num=0,this.derail=!1,this.changeY=113,this.boomDerail=!1},onBeginContact:function(e,t,a){if(2==a.tag){a.node.destroy(),this.num++,console.log("num: "+this.num);var n,i=this.node.parent.parent;if(console.log("ballNum:  "+i.getComponent("game").ballNum),this.num==i.getComponent("game").ballNum)this.num=0,i.getComponent("game").ballShoot=i.getComponent("game").ballNum,this.scheduleOnce(function(){if(i.getComponent("game").touch_on(),0==this.derail){for(var e=0;e<i.getChildByName("brick").childrenCount;e++)i.getChildByName("brick").children[e].y+=this.changeY,i.getChildByName("brick").children[e].y>=i.getChildByName("brick").height/2-i.getChildByName("brick").children[e].height/2&&(i.getComponent("game").touch_off(),i.getChildByName("end").active=!0);for(e=0;e<6;e++)if(n=0==e?-238:1==e?-143:2==e?-48:3==e?47:4==e?142:237,0!=Math.floor(6*Math.random()*2.5))if(0!=this.boomDerail||0!=Math.floor(6*Math.random()*2.5)){if(Math.random()<.7){var t=Math.floor(6*Math.random());this.prefab_no,this.prefab_no=0==t?this.prefab_sanjiao:1==t?this.prefab_sanjiaoxing:2==t?this.prefab_wubian:3==t?this.prefab_wubianxing:4==t?this.prefab_yuan:this.prefab_zhengfangxing;var a=cc.instantiate(this.prefab_no);if(i.getChildByName("brick").addChild(a),a.setPosition(n,-402),i.getComponent("game").ballNum<8)var o=Math.floor(1.5*Math.random()*i.getComponent("game").ballNum);else if(i.getComponent("game").ballNum<11)o=Math.floor(2*Math.random()*i.getComponent("game").ballNum);else if(i.getComponent("game").ballNum<17)o=Math.floor(2.5*Math.random()*i.getComponent("game").ballNum);else o=Math.floor(3*Math.random()*i.getComponent("game").ballNum);0==o?(a.getComponent("brick").hp=o+1,a.getChildByName("num").getComponent(cc.Label).string=a.getComponent("brick").hp):(a.getComponent("brick").hp=o,a.getChildByName("num").getComponent(cc.Label).string=a.getComponent("brick").hp)}}else{var h=cc.instantiate(this.prefab_boom);i.getChildByName("brick").addChild(h),h.setPosition(n,-402),this.boomDerail=!0}else{var l=cc.instantiate(this.prefab_addball);i.getChildByName("brick").addChild(l),l.setPosition(n,-402)}}},.5)}},onEndContact:function(e,t,a){},onPreSolve:function(e,t,a){},onPostSolve:function(e,t,a){},start:function(){}}),cc._RF.pop()},{}],game:[function(e,t,a){"use strict";cc._RF.push(t,"926bflsP9FHtoN/ddcp/18g","game"),cc.Class({extends:cc.Component,properties:{prefab_shoot:cc.Prefab,prefab_ball:cc.Prefab,prefab_sanjiao:cc.Prefab,prefab_sanjiaoxing:cc.Prefab,prefab_wubian:cc.Prefab,prefab_wubianxing:cc.Prefab,prefab_yuan:cc.Prefab,prefab_zhengfangxing:cc.Prefab},onLoad:function(){var e;cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.ballNum=5,this.ballShoot=this.ballNum,this.ballNow=0,this.mark=0,this.derailNum=0,this.node.getChildByName("data").getChildByName("ballNum").getChildByName("ballAll").getComponent(cc.Label).string=this.ballNum,this.node.getChildByName("data").getChildByName("ballNum").getChildByName("ballNow").getComponent(cc.Label).string=this.ballNow;for(var t=0;t<6;t++)if(e=0==t?-238:1==t?-143:2==t?-48:3==t?47:4==t?142:237,2==t||5==t){var a=Math.floor(6*Math.random());this.prefab_no,this.prefab_no=0==a?this.prefab_sanjiao:1==a?this.prefab_sanjiaoxing:2==a?this.prefab_wubian:3==a?this.prefab_wubianxing:4==a?this.prefab_yuan:this.prefab_zhengfangxing;var n=cc.instantiate(this.prefab_no);this.node.getChildByName("brick").addChild(n),n.setPosition(e,-402),0==(i=Math.floor(Math.random()*this.ballNum))?(n.getComponent("brick").hp=i+1,n.getChildByName("num").getComponent(cc.Label).string=n.getComponent("brick").hp):(n.getComponent("brick").hp=i,n.getChildByName("num").getComponent(cc.Label).string=n.getComponent("brick").hp)}else if(Math.random()<.5){a=Math.floor(6*Math.random());this.prefab_no,this.prefab_no=0==a?this.prefab_sanjiao:1==a?this.prefab_sanjiaoxing:2==a?this.prefab_wubian:3==a?this.prefab_wubianxing:4==a?this.prefab_yuan:this.prefab_zhengfangxing;var i;n=cc.instantiate(this.prefab_no);this.node.getChildByName("brick").addChild(n),n.setPosition(e,-402),0==(i=Math.floor(Math.random()*this.ballNum))?(n.getComponent("brick").hp=i+1,n.getChildByName("num").getComponent(cc.Label).string=n.getComponent("brick").hp):(n.getComponent("brick").hp=i,n.getChildByName("num").getComponent(cc.Label).string=n.getComponent("brick").hp)}},touch_on:function(){this.node.on("touchstart",function(e){var t=this.node.getChildByName("ball").convertToNodeSpaceAR(e.getLocation());if(t.y<0){var a=cc.instantiate(this.prefab_shoot);if(this.node.addChild(a),this.angle,t.x<0){var n=Math.atan2(t.x-0,t.y-0);this.angle=180+n*(180/Math.PI),a.getChildByName("line").rotation=this.angle,a.getChildByName("add").setPosition(-Math.cos((90-this.angle)/180*Math.PI)*a.getChildByName("line").height,-Math.sin((90-this.angle)/180*Math.PI)*a.getChildByName("line").height)}else if(t.x>0){n=Math.atan2(t.x-0,t.y-0);this.angle=n*(180/Math.PI)-180,a.getChildByName("line").rotation=this.angle,a.getChildByName("add").setPosition(Math.cos((90+this.angle)/180*Math.PI)*a.getChildByName("line").height,-Math.sin((90+this.angle)/180*Math.PI)*a.getChildByName("line").height)}else(t.y=0)&&(this.angle=0,a.getChildByName("line").rotation=this.angle,a.getChildByName("add").setPosition(0,-a.getChildByName("line").height))}}.bind(this)),this.node.on("touchmove",function(e){var t=this.node.getChildByName("ball").convertToNodeSpace(e.getLocation());if(t.y<0)if(this.angle,t.x<0){var a=Math.atan2(t.x-0,t.y-0);this.angle=180+a*(180/Math.PI),this.node.getChildByName("shoot").getChildByName("line").rotation=this.angle,this.node.getChildByName("shoot").getChildByName("add").setPosition(-Math.cos((90-this.angle)/180*Math.PI)*this.node.getChildByName("shoot").getChildByName("line").height,-Math.sin((90-this.angle)/180*Math.PI)*this.node.getChildByName("shoot").getChildByName("line").height)}else if(t.x>0){a=Math.atan2(t.x-0,t.y-0);this.angle=a*(180/Math.PI)-180,this.node.getChildByName("shoot").getChildByName("line").rotation=this.angle,this.node.getChildByName("shoot").getChildByName("add").setPosition(Math.cos((90+this.angle)/180*Math.PI)*this.node.getChildByName("shoot").getChildByName("line").height,-Math.sin((90+this.angle)/180*Math.PI)*this.node.getChildByName("shoot").getChildByName("line").height)}else(t.y=0)&&(this.angle=0,this.node.getChildByName("shoot").getChildByName("line").rotation=this.angle,this.node.getChildByName("shoot").getChildByName("add").setPosition(0,-this.node.getChildByName("shoot").getChildByName("line").height))}.bind(this)),this.node.on("touchend",function(e){var t=this.node.getChildByName("ball").convertToNodeSpaceAR(e.getLocation());this.node.getChildByName("data").getChildByName("ballNum").getChildByName("ballAll").getComponent(cc.Label).string=this.ballNum;var a=this.node.getChildByName("shoot").getChildByName("line").height;this.node.getChildByName("shoot").destroy(),this.callback=function(){this.touch_off(),this.ballNow++,this.node.getChildByName("data").getChildByName("ballNum").getChildByName("ballNow").getComponent(cc.Label).string=this.ballNow;var e=cc.instantiate(this.prefab_ball);this.node.getChildByName("ball").addChild(e),e.setPosition(cc.v2(0,0));var n=Math.atan2(t.x-0,t.y-0);this.angle=180+n*(180/Math.PI);var i=e.getComponent(cc.RigidBody);i.applyLinearImpulse(cc.v2(-Math.cos((90-this.angle)/180*Math.PI)*a,-Math.sin((90-this.angle)/180*Math.PI)*a),i.getWorldPosition(),!0),this.ballNow==this.ballShoot&&(this.unschedule(this.callback),this.ballNow=0),1==this.node.getChildByName("background").getChildByName("down").getComponent("down").derail&&(this.derailNum++,this.derailNum/this.ballNum==2&&(this.node.getChildByName("background").getChildByName("down").getComponent("down").derail=!1,this.derailNum=0))},this.schedule(this.callback,.4)}.bind(this))},touch_off:function(){this.node.off("touchstart"),this.node.off("touchmove"),this.node.off("touchend"),this.node.off("touchcancel")},start:function(){this.touch_on()}}),cc._RF.pop()},{}]},{},["addball","ball","boom","brick","down","game"]);